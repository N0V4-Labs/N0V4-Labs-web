<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="How PHALANX replaces hard stuns with a continuous stability budget, physics-driven stagger states, and deterministic guardrails across classes and leg types.">
  <title>Inside PHALANX's Stability Bar: Physics-First Stagger Instead of Hard Stuns</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&family=Merriweather:ital,wght@0,300;0,400;0,700;0,900;1,400&family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
<header>
  <nav class="navbar">
    <div class="container">
      <div class="nav-brand">
        <h1><a href="index.html" style="color: inherit; text-decoration: none;">ziX Performance Labs</a></h1>
      </div>
      <ul class="nav-menu">
        <li><a href="about.html">About</a></li>
      </ul>
    </div>
  </nav>
</header>

<main>
  <div class="container">
    <section class="blog-content">
      <article class="blog-post">
        <h2>Inside PHALANX's Stability Bar: Physics-First Stagger Instead of Hard Stuns</h2>
        <div class="meta">
          November 20, 2025
        </div>
        <div class="content">
          <p>
            Traditional hard knockdowns are easy to implement and awful to play against.
          </p>
          <p>
            You take a couple of hits, control is yanked away, the camera falls over, and you watch the rest of the fight happen to you. Designers get to tune a single scalar called “stun duration.” Everyone else gets a binary state: fully in control or not playing.
          </p>
          <p>
            PHALANX replaces that switch with a <strong>continuous stability budget</strong>. Every mech tracks its posture on a 0–100+ scale. Weapons, abilities, terrain, and environmental events all add to that number. When the budget is exhausted, the physics system moves you through <em>stagger states</em> instead of a black-box stun.
          </p>
          <p>
            This article outlines how that system is structured, how it scales by class and leg type, and which guardrails stop it from degenerating into perma-stagger or unreadable fights.
          </p>

          <hr>

          <h3>Mechanical sketch: what “stability” actually is</h3>
          <p>
            The stability system is intentionally small and table-driven. At the core:
          </p>
          <ul>
            <li><strong>Scale:</strong> 0–100+ points (values can overshoot thresholds).</li>
            <li><strong>Update rate:</strong> 60 Hz, synced with simulation.</li>
            <li><strong>Regen:</strong> 0 pts/s while taking stability damage or for 1.0 s after the last hit; then 10 pts/s for all classes while not staggered.</li>
            <li><strong>Primary posture state:</strong> Soft Stagger, lasting 2.0–3.0 s by class, extendable in 0.5 s steps to a hard cap of 5.0 s.</li>
            <li><strong>Rare hard control:</strong> Hard Knockdown, ~3–5 s depending on class, reserved for ultimates and major map events.</li>
          </ul>

          <h4>Class thresholds and leg multipliers</h4>
          <p>
            Each chassis class contributes a base stability threshold:
          </p>
          <figure>
            <figcaption><strong>Table 1: Base class thresholds</strong></figcaption>
            <table>
              <thead>
                <tr>
                  <th>Class</th>
                  <th>Base Threshold</th>
                  <th>Base Soft Stagger Duration</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Light</td>
                  <td>30</td>
                  <td>2.0 s</td>
                </tr>
                <tr>
                  <td>Medium</td>
                  <td>50</td>
                  <td>2.5 s</td>
                </tr>
                <tr>
                  <td>Heavy</td>
                  <td>70</td>
                  <td>3.0 s</td>
                </tr>
                <tr>
                  <td>Assault</td>
                  <td>90</td>
                  <td>3.0 s</td>
                </tr>
              </tbody>
            </table>
          </figure>
          <p>
            Leg configuration then scales that threshold:
          </p>
          <figure>
            <figcaption><strong>Table 2: Leg-type multipliers</strong></figcaption>
            <table>
              <thead>
                <tr>
                  <th>Leg Type</th>
                  <th>Threshold Multiplier</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Bipedal</td>
                  <td>1.00×</td>
                </tr>
                <tr>
                  <td>Reverse-joint</td>
                  <td>0.85×</td>
                </tr>
                <tr>
                  <td>Hover</td>
                  <td>0.75×</td>
                </tr>
                <tr>
                  <td>Tank treads</td>
                  <td>1.20×</td>
                </tr>
                <tr>
                  <td>Quadruped</td>
                  <td>1.40×</td>
                </tr>
                <tr>
                  <td>Multi-leg</td>
                  <td>1.60×</td>
                </tr>
              </tbody>
            </table>
          </figure>
          <p>
            The resulting <strong>effective stability threshold</strong> is computed once per build:
          </p>
          <div class="article-code draw-left-line">
            <p class="article-code-file mark-section">stability_threshold.h (conceptual)</p>
            <pre class="article-code-text cpp">float base   = ClassBaseThreshold(mech.class);      // 30 / 50 / 70 / 90
float mult   = LegStabilityMultiplier(mech.legs);    // e.g. 0.75 for hover
float raw    = std::round(base * mult);
int   eff    = std::clamp((int)raw, 15, 135);        // hard floor / cap

mech.effective_stability = eff;</pre>
          </div>
          <p>
            That value is cached and treated as another budget alongside armor, heat capacity, and mobility. A hover Light might end up with an effective threshold in the mid-20s; an Assault quadruped pushes into triple digits, but is still forced to respect the global 135-point ceiling.
          </p>

          <h4>Stability damage is tiered, not free-form</h4>
          <p>
            Weapons and major physical events don’t pick arbitrary stability numbers. They choose from a fixed table of tiers per hit or per volley:
          </p>
          <ul>
            <li>Energy E1–E4: 5 / 10 / 15 / 20 stability.</li>
            <li>Ballistic B1–B3: 10 / 20 / 30 stability.</li>
            <li>Missile M1–M3: 20 / 40 / 60 stability per full volley.</li>
            <li>Melee ML1–ML2: 30 / 50 stability.</li>
            <li>Special / environmental events like charge attacks, building collapse, or long falls use fixed values in the 60–100 range.</li>
          </ul>
          <p>
            That makes posture tuning a table edit instead of a per-weapon negotiation: changing “how staggery” a ballistic suite feels is usually a single tier change, not another bespoke rule.
          </p>

          <hr>

          <h3>What players see: the stability bar</h3>
          <p>
            The HUD never shows the raw threshold. It shows a normalized bar from 0–100% with a few consistent cues:
          </p>
          <ul>
            <li><strong>Class-colored strip</strong> with a tick mark at the mech’s effective stability threshold.</li>
            <li><strong>Color bands</strong> that encode risk:
              <ul>
                <li>0–30%: green – stable.</li>
                <li>30–60%: yellow – you’re spending posture.</li>
                <li>60–85%: orange – significantly unstable.</li>
                <li>85–99%: red – any serious hit can tip you.</li>
              </ul>
            </li>
            <li><strong>Temporal cues</strong> on big hits:
              <ul>
                <li>Instant fill on local client when stability is applied.</li>
                <li>Short white flash when crossing the stagger threshold.</li>
                <li>Subtle overshoot and settle animation when you enter Soft Stagger.</li>
              </ul>
            </li>
          </ul>
          <p>
            The goal is that “70% stability” always means “you are in a high-risk band” while retaining class identity. A Light at 70% is on the edge of tipping. An Assault at 70% is still pre-stagger, but very much on notice.
          </p>

          <hr>

          <h3>Soft Stagger: posture, not a full stun</h3>
          <p>
            Most of the system lives in Soft Stagger, not in hard disables.
          </p>
          <p>
            Mechanically, a mech enters Soft Stagger when its current stability is greater than or equal to its effective stability threshold. The value is clamped to that threshold and a class-specific timer begins.
          </p>

          <h4>Durations and penalties</h4>
          <p>
            Base Soft Stagger durations are:
          </p>
          <ul>
            <li>Light – 2.0 s</li>
            <li>Medium – 2.5 s</li>
            <li>Heavy – 3.0 s</li>
            <li>Assault – 3.0 s</li>
          </ul>
          <p>
            While in Soft Stagger:
          </p>
          <ul>
            <li>Movement speed is multiplied by 0.5 (−50%).</li>
            <li>Turn rate is reduced by ~40%.</li>
            <li>Weapon accuracy suffers a ~30% penalty via wider cones / added sway.</li>
            <li>All abilities that are already cooling down have +3.0 s added to their remaining cooldown.</li>
            <li>Most ability casts are disabled unless explicitly flagged as “usable in Soft Stagger.”</li>
            <li>Stability regeneration is frozen until the stagger window (including any extensions) fully completes.</li>
          </ul>
          <p>
            You can still move, turn, and fire. The system is not removing your agency; it’s halving your ability to execute precision moves while broadcasting to everyone that you’re off-balance.
          </p>

          <h4>Extending stagger without letting it run away</h4>
          <p>
            Follow-up hits during Soft Stagger can extend the punish window, but in controlled steps:
          </p>
          <ol>
            <li>Track total stability damage dealt <em>while</em> in Soft Stagger (<code>D_stagger</code>).</li>
            <li>Compute <code>segments = floor(D_stagger / 25)</code>.</li>
            <li>Each segment adds 0.5 s to the base duration.</li>
            <li>Clamp the total Soft Stagger time to a maximum of 5.0 s.</li>
          </ol>
          <p>
            That gives attackers a reason to follow up intelligently—stacked volleys and coordinated burst extend the window—without ever allowing infinite lockouts. It also keeps balance work focused on tier tables instead of bespoke caps per weapon.
          </p>

          <h4>Movement penalty stacking</h4>
          <p>
            Soft Stagger is just one contributor to movement penalties. The actual speed multiplier is:
          </p>
          <div class="article-code draw-left-line">
            <p class="article-code-file mark-section">movement.h (conceptual)</p>
            <pre class="article-code-text cpp">float final_speed_mult =
  std::max(0.25f,
           base_speed_mult *
           weight_mult *
           heat_mult *
           energy_mult *
           stagger_mult *
           other_mults);</pre>
          </div>
          <p>
            As long as you are not in Hard Knockdown or Heat Shutdown, the engine enforces a 0.25 floor on movement speed. Even in worst-case soft-control stacks (overweight, high heat, energy penalties, stagger), you still move at 25% of your nominal speed instead of being frozen in place.
          </p>

          <hr>

          <h3>Chains, immunity, and why you can’t be juggled forever</h3>
          <p>
            If you expose a posture bar and a strong stagger pose, players will try to chain it. The stagger chain system is designed so that:
          </p>
          <ul>
            <li>Good focus fire is rewarded.</li>
            <li>Repeated mistakes are punished.</li>
            <li>Infinite chains are structurally impossible.</li>
          </ul>

          <figure>
            <figcaption><strong>Table 3: Stagger chain behavior</strong></figcaption>
            <table>
              <thead>
                <tr>
                  <th>Chain #</th>
                  <th>Time Window</th>
                  <th>Visual Treatment</th>
                  <th>Duration Multiplier</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>1st</td>
                  <td>Baseline</td>
                  <td>Yellow outline</td>
                  <td>1.0×</td>
                </tr>
                <tr>
                  <td>2nd</td>
                  <td>Within 10 s of previous</td>
                  <td>Orange outline</td>
                  <td>1.2×</td>
                </tr>
                <tr>
                  <td>3rd</td>
                  <td>Within 10 s of previous</td>
                  <td>Red outline + “VULNERABLE” tag</td>
                  <td>1.5×</td>
                </tr>
                <tr>
                  <td>Immune</td>
                  <td>After 3rd in chain</td>
                  <td>Blue shield effect</td>
                  <td>5 s stagger immunity</td>
                </tr>
              </tbody>
            </table>
          </figure>
          <p>
            After the third stagger within the rolling window, the target gains a short stagger immunity. Stability can still be damaged, but the mech will not re-enter Soft Stagger until the immunity expires and the global caps on stagger time are respected.
          </p>
          <p>
            From a player’s point of view: you can absolutely bully someone who keeps peeking into high instability, but you cannot delete an entire fight behind a perma-stagger loop.
          </p>

          <hr>

          <h3>Hard Knockdown: rare, expensive, and loud</h3>
          <p>
            Full knockdowns are reserved for a small set of tagged sources:
          </p>
          <ul>
            <li>Specific high-impact abilities (large cooldowns, ultimate slots).</li>
            <li>Major environmental events such as building collapses or bridge failures.</li>
            <li>Long falls above a configured height threshold.</li>
          </ul>
          <p>
            Defaults:
          </p>
          <ul>
            <li>Light – ~3.0 s on the ground.</li>
            <li>Medium – ~4.0 s.</li>
            <li>Heavy / Assault – ~5.0 s.</li>
          </ul>
          <p>
            While knocked down:
          </p>
          <ul>
            <li>Movement is zero; the usual 0.25 floor is ignored.</li>
            <li>Aim and ability usage are locked.</li>
            <li>On impact, stability is reset to 0; after recovery, regeneration resumes under the standard rules.</li>
          </ul>
          <p>
            If Hard Knockdown overlaps with Heat Shutdown, the system uses the longer of the two timers instead of stacking them. That caps total full-control lockout in normal play.
          </p>

          <hr>

          <h3>Environment, components, and heat</h3>
          <p>
            Stability doesn’t live in a vacuum. Other systems nudge thresholds and durations instead of inventing new control states.
          </p>

          <h4>Weather and terrain</h4>
          <p>
            Biomes apply bounded modifiers to thresholds and stagger duration:
          </p>
          <ul>
            <li>Rain can slightly reduce effective thresholds and lengthen slides.</li>
            <li>High winds tilt thresholds against lighter mechs more than heavies.</li>
            <li>Extreme low-traction surfaces (ice-equivalent) add modest multipliers to stability damage and are heavily telegraphed.</li>
          </ul>
          <p>
            Falls use the same tiering approach as weapons: small hops are free, mid-height drops add modest stability damage, and only large falls cross into knockdown territory.
          </p>

          <h4>Component damage</h4>
          <p>
            Certain components directly affect stability:
          </p>
          <ul>
            <li>Damaged legs progressively reduce thresholds and eventually force a knockdown if destroyed.</li>
            <li>Gyro damage subtracts a larger flat amount, making all future posture hits more dangerous.</li>
          </ul>
          <p>
            The visual side mirrors the mechanics: limping, stance changes, and visible gyro strain are all tied to those same thresholds rather than a separate “flavor” system.
          </p>

          <h4>Heat as a posture tax</h4>
          <p>
            Heat is its own axis, but it feeds into stability via simple rules:
          </p>
          <ul>
            <li>Moderate heat bands slightly lower thresholds and add a small amount to stagger duration.</li>
            <li>Critical heat sharply reduces thresholds and extends stagger times by up to ~1 second.</li>
            <li>Heat Shutdown is treated as a hard control state equivalent to a knockdown; stability regen is paused until systems recover.</li>
          </ul>
          <p>
            The net effect: a mech sitting in a high-heat band at 70%+ stability is in a deliberately risky posture, even if its HP bar still looks healthy.
          </p>

          <hr>

          <h3>Abilities and stability: posture as a resource</h3>
          <p>
            In the ability system, stability is just another column in the table next to energy, heat, and cooldown. Each ability declares:
          </p>
          <ul>
            <li>Whether it can be used during Soft Stagger.</li>
            <li>Whether it consumes stability, restores stability, or temporarily locks stability regen.</li>
            <li>How it behaves at low energy, high heat, and during shutdown.</li>
          </ul>

          <h4>Posture tools</h4>
          <p>
            Defensive posture abilities follow a common pattern:
          </p>
          <ul>
            <li>Medium energy and heat cost.</li>
            <li>Moderate cooldown.</li>
            <li>Instant, explicit stability reduction (e.g., −30 points) when activated.</li>
            <li>Short lockout where stability does not regenerate again (to prevent double-dipping).</li>
            <li>Usable in pre-stagger warning bands, but not during hard stagger or knockdown.</li>
          </ul>
          <p>
            Used early, they let you cash in resources to stay on your feet. Used late, they are simply unavailable—you already spent the budget.
          </p>

          <h4>High-commit burst</h4>
          <p>
            Some high-impact abilities deliberately apply stability damage to both target and caster. Heavy recoil shots, high-speed dashes, and overcharged melee swings all push on your own stability as well as the enemy’s.
          </p>
          <p>
            Light frames feel that immediately: chain enough self-taxing lunges at high instability and you will topple yourself. Assaults can eat a few more of these before tipping, but their longer recovery punishes misreads harder once they do.
          </p>

          <h4>Passive posture support</h4>
          <p>
            Passive effects can temporarily improve stability behavior under specific conditions, such as feeding small amounts of stability regeneration while a recon mark is active and you are not currently staggered. These are tuned to be helpful but not to erase the consequences of repeatedly burning posture.
          </p>

          <hr>

          <h3>Putting it together: a lane example</h3>
          <p>
            Consider a simple trade on a mid-range lane:
          </p>
          <ul>
            <li>You’re in a <strong>medium mech</strong> (base threshold 50).</li>
            <li>Your build uses standard bipedal legs (multiplier 1.0), so your effective stability threshold is 50.</li>
            <li>You exit the first skirmish at:
              <ul>
                <li>Heat: 70% (mild posture penalties, slower regen ahead).</li>
                <li>Stability: 60% (above the midpoint band, edging into active balancing).</li>
                <li>Energy: low, most core abilities on cooldown.</li>
              </ul>
            </li>
            <li>The enemy Assault is retreating around a corner at ~40% HP.</li>
          </ul>
          <p>
            You now choose between respecting the numbers or gambling against them.
          </p>
          <p>
            <strong>Respecting stability:</strong> you hold the corner, let heat bleed off, and allow the 10 pts/s stability regen to pull you back into a safer band before you peek again. You don’t secure the immediate kill, but you keep posture intact for the next fight.
          </p>
          <p>
            <strong>Greedy peek:</strong> you push anyway with:
          </p>
          <ul>
            <li>High heat (threshold effectively lowered, stagger extended).</li>
            <li>Already-elevated stability (one good volley from threshold).</li>
            <li>No defensive posture tool off cooldown.</li>
          </ul>
          <p>
            The Assault is ready with:
          </p>
          <ul>
            <li>A high-tier missile volley (M2 or M3 stability hit).</li>
            <li>A short-range physical shove that applies additional posture damage.</li>
            <li>Terrain advantage on a slight downhill slope.</li>
          </ul>
          <p>
            You eat both; your current stability crosses 50, you enter Soft Stagger, and the follow-up during that window extends the stagger toward its upper bound. Your movement is halved, your aim is degraded, and the chain counter steps forward. The enemy team cleans up with minimal exposure.
          </p>
          <p>
            From the outside this looks like a normal over-extension. Under the hood it is a deterministic posture failure: a series of trades against a finite stability budget, resolved by tables instead of ad-hoc stun logic.
          </p>
          <p>
            That is the point of the system. Not a new bar for its own sake, but a way to make crowd control:
          </p>
          <ul>
            <li><strong>Physics-first</strong> instead of animation-only.</li>
            <li><strong>Deterministic</strong> and table-driven instead of fuzzy.</li>
            <li><strong>Readable</strong> to pilots, spectators, and tools.</li>
          </ul>
          <p>
            When a mech falls over in PHALANX, the intent is that you can always say <em>which</em> budgets you burned to get there—and how you might play the next fight differently.
          </p>
        </div>
      </article>
    </section>
  </div>
</main>

<footer>
  <div class="container">
    <p>
      <a href="https://github.com/N0V4-Labs" style="color: var(--link-color); text-decoration: none;">github</a>
      &nbsp;•&nbsp;
      <a href="about.html" style="color: var(--link-color); text-decoration: none;">about</a>
    </p>
  </div>
</footer>
</body>
</html>
